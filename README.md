## 判例AI

### 概要
- 置かれた状況、目的、やりたいことなどを入力すると<br>関係する法律や気をつけるべき法律、判例について教えてくれるAI
- 弁護士に相談するレベルで具体的で明確な回答というより、<br>どの法律を気にすべきかを提供してくれる
- (もし事業化するなら...) 基本機能は無料で使えるが、一部機能は課金制

### 顧客課題
- 何かを始めたい時、または何か困った時、関連する法律や判例を知りたい時がある
- でも、弁護士に頼むのは面倒だし、そこまでコストをかける程のことではない。。
    - 類似するサービスとして、スレッド形式で弁護士に質問するものがあるが、<br>本物の弁護士が回答する分、やっぱり費用がある程度かかる
- お金や手間をかけず、関連する法律や判例だけでも知りたい

### データセット
- [日本の法律・判例データセット](https://github.com/japanese-law-analysis/data_set/tree/master)
    - CC0ライセンス
    - 「著作権法第十三条の規定により、法令・判決は著作権が発生しません。よって、これをもとに生成した本データセットも著作権が発生しません。よって、CC0ライセンスのもと公開します。」

### ユースケース と プロンプト例
- 関連する法律の確認
    > 友人のために商品を代理購入しましたが、手数料を受け取りました。この行為は商取引法や税法に違反する可能性がありますか？
- 特定の状況下における適法性の確認
    > Youtubeに違法にアップロードされた動画を視聴してしまいました。私は罪に問われますか？心配です。
- リスクについて知る
    > SNS上で他人の意見に対して批判的なコメントをした場合、名誉毀損や侮辱罪に問われる可能性はありますか？
- 今後の対応について助言を仰ぐ
    > 個人ブログに他の人の画像を使用する際、著作権法に違反しないようにするためにはどのような手続きが必要ですか？
- その他、判例の検索
    > 保険金詐欺に関する判例にはどのようなものがありますか？


## 開発
### 実装のイメージ
- LLMまわり
    - ユーザから状況などに関するクエリをテキスト入力
    - クエリと類似した文章をベクトルDB(判例)で検索
    - クエリ＋類似文章をLLMに入力
    - 出力のポイント
        - 同様の状況で過去にどのような判決が出たか
        - 関連する法律は何か
    - 出力された関連する法律については、別途データベース(SQL?)から検索できるようにしたい


### 実装メモ
- [アイコン出典(クレジット表記の必要はなし)](https://icooon-mono.com/about-icoon-mono/)
- 判決文の典型的な構造を使って面白いことできないか
    - chunkサイズを大きくするか、主文/理由ごとにchunk分けするなどしないと難しそう。。
- 法令情報の取得方法
    - e-GOV 法令API による取得を検討中
- 法令API [仕様書](https://laws.e-gov.go.jp/file/houreiapi_shiyosyo.pdf)
    - 種類
        - 法令名一覧取得API<br>
        公布済み現行法令の法令 ID、名称、法令番号及び公布年月日を取得<br>
        リクエストパラメータに法令の種類（「全法令」、「憲法・法律」、「政令・勅令」又は「府省令」）を指定して法令の一覧を取得することも可能
        - 法令取得API<br>
        施行中の現行法令の全文を取得
        - 条文内容取得API<br>
        指定した条件（法令番号又は法令 ID 並びに条、項又は別表）に合致する施行中の現行法令の内容を取得
        - 更新法令一覧取得 API<br>
        指定した日付に更新された法令の一覧を取得
    - 法令番号
        - 日本語の文字列とのこと。。
- Law/list.json
    - "name": 法令の名称
    - "num": 法令の法令番号
- TODO: 
    - [x] 法令名：法令番号の辞書を示すjsonファイルをlist.jsonから作成
    - [x] 法令のキーワード検索を行う関数の実装（参考あり）
    - [x] LLMの出力の最後にある法令の名称をキーワードとして検索
    - [x] 辞書からそれらの法令番号を取得
    - [x] APIでそれらの全文を取得（可能なら条, 項, 号単位で）     <- ここまで完了 10/3
    - [ ]追加：APIで取得した文の整形スクリプト
    - [ ]表示
    - [参考](https://qiita.com/Lisphilar/items/39ad23ac7ade21313911)


### 判決文に関するメモ
- 参考
    - https://www.anlp.jp/proceedings/annual_meeting/2005/pdf_dir/P1-7.pdf
- 定義
    - 「判例は，裁判所が裁判の理由の中で示した法律上の判断である」
    - 参照元：『判例とその読み方（改訂版）』有斐閣(2002)
- 重要性
    - 現代の司法制度において判例は極めて重要なものである。<br>裁判では過去の類似する判例が参照され、それに対して裁判官や検察官、弁護士がそれぞれの立場から解釈を行う。<br>「判例は実務を支配している」という表現が存在する。裁判官は原則、類似する判例に従うべきとされる。故に、検察官や弁護士もそれを踏まえた主張をせざるを得ない。
- 判決文と判例の違い
    - 判決文
        - 裁判所が下した判決を記した文書そのもの
        - 裁判に関する事務的情報、結論である主文、及びそれを支える理由から構成
    - 判例
        - 判決文の理由の部分で示される法律上の判断
        - 専門家が判例を参照する際は、判決文の理由に関する記述から読み取る
- 構成
    - 主文
        - 裁判所が下した最終的な判断
    - 事実
    - 理由
        - 請求
        - 事案の概要
            - 争いのない事実など
            - 争点
        - 争点に対する判断